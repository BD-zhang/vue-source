# 数据驱动
在vue中，我们是通过`$mount`去挂载`vm`的

## new Vue发生了什么
Vue构造函数在`src/core/instance/index.js`中有定义
```js
function Vue (options) {
 if (process.env.NODE_ENV !== 'production' &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword')
  }
  this._init(options)
}
```
可以看到最后会执行一个`_init`方法，而该方法定义在`src/core/instance/init.js`中
```js
Vue.prototype._init = function (options?: Object) {
  // ...

  /**
   * 以上应该都是一些细节的处理，比较关键的内容是在下面这几个方法的执行
   * */ 
  vm._self = vm
  initLifecycle(vm)  // 简单处理一些标志符的初始值为false
  initEvents(vm)    
  initRender(vm)
  callHook(vm, 'beforeCreate')
  initInjections(vm) // resolve injections before data/props
  initState(vm)
  initProvide(vm) // resolve provide after data/props
  callHook(vm, 'created')

  // ...
}
```

## $mount函数
mount函数在多个文件都有定义，目前只分析`src/platform/web/entry-runtime-with-compiler.js`

